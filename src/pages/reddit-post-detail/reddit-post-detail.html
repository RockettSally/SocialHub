<!--
  Generated template for the RedditPostDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <ion-title>{{item.title}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-row *ngIf="item.spoiler && !pictureAllowed" padding>
      <button ion-button full outline color="danger">SPOILERS - ACCESS POST TO VIEW PIC</button>
    </ion-row>
    <img *ngIf="item.preview && !item.spoiler" src="{{item.preview.images[0].source.url}}" onError="this.src='assets/imgs/nopreview.png'">
    <ion-card-content>
        <ion-card-title>
          {{item.title}}
        </ion-card-title>

        <ion-item text-wrap>
          <ion-avatar item-start>
            <ion-icon name="person" class="avatar-size"></ion-icon>
          </ion-avatar>
          <p>Author:</p> <ion-note><b>{{item.author}}</b></ion-note>
        </ion-item>

        <ion-item text-wrap>
          <ion-avatar item-start>
            <ion-icon name="clock" class="avatar-size"></ion-icon>
          </ion-avatar>
            <p>Date Created:</p> <ion-note><b>{{item.created * 1000 | date:"MM/dd/yyyy 'at' h:mma"}}</b></ion-note>
        </ion-item>

        <ion-item text-wrap>
          <ion-badge><ion-icon name="thumbs-up"></ion-icon> &nbsp;{{item.score}}</ion-badge>
          <ion-badge color="secondary"><ion-icon name="chatboxes" ></ion-icon> &nbsp;{{item.num_comments}}</ion-badge>
          <ion-badge *ngIf="item.thumbnail == 'nsfw'" color="dark">NSFW</ion-badge>
          <ion-badge *ngIf="item.spoiler" color="danger">Spoiler Alert</ion-badge>
        </ion-item>

        <ion-row>
          <a ion-button full target="_blank" href="http://reddit.com/{{item.permalink}}">VIEW ON REDDIT</a>
        </ion-row>
    </ion-card-content>
  </ion-card>
</ion-content>
